{
  "$schema": "https://opencode.ai/config.json",
  "plugin": ["opencode-antigravity-auth@latest"],
  "provider": {
    "google": {
      "models": {
        "antigravity-gemini-3-pro": {
          "name": "Gemini 3 Pro (Antigravity)",
          "limit": { "context": 1048576, "output": 65535 },
          "modalities": { "input": ["text", "image", "pdf"], "output": ["text"] },
          "variants": {
            "low": { "thinkingLevel": "low" },
            "high": { "thinkingLevel": "high" }
          }
        },
        "antigravity-gemini-3-flash": {
          "name": "Gemini 3 Flash (Antigravity)",
          "limit": { "context": 1048576, "output": 65536 },
          "modalities": { "input": ["text", "image", "pdf"], "output": ["text"] },
          "variants": {
            "minimal": { "thinkingLevel": "minimal" },
            "low": { "thinkingLevel": "low" },
            "medium": { "thinkingLevel": "medium" },
            "high": { "thinkingLevel": "high" }
          }
        },
        "antigravity-claude-sonnet-4-5": {
          "name": "Claude Sonnet 4.5 (Antigravity)",
          "limit": { "context": 200000, "output": 64000 },
          "modalities": { "input": ["text", "image", "pdf"], "output": ["text"] }
        },
        "antigravity-claude-sonnet-4-5-thinking": {
          "name": "Claude Sonnet 4.5 Thinking (Antigravity)",
          "limit": { "context": 200000, "output": 64000 },
          "modalities": { "input": ["text", "image", "pdf"], "output": ["text"] },
          "variants": {
            "low": { "thinkingConfig": { "thinkingBudget": 8192 } },
            "max": { "thinkingConfig": { "thinkingBudget": 32768 } }
          }
        },
        "antigravity-claude-opus-4-5-thinking": {
          "name": "Claude Opus 4.5 Thinking (Antigravity)",
          "limit": { "context": 200000, "output": 64000 },
          "modalities": { "input": ["text", "image", "pdf"], "output": ["text"] },
          "variants": {
            "low": { "thinkingConfig": { "thinkingBudget": 8192 } },
            "max": { "thinkingConfig": { "thinkingBudget": 32768 } }
          }
        }
      }
    }
  },
  "permission": {
    "edit": "ask",
    "bash": "ask",
    "webfetch": "deny",
    "write": "ask",
    "doom_loop": "ask",
    "external_directory": "ask"
  },
  "tools": {
    "bash": true,
    "webfetch": false,
    "websearch": false,
    "write": true,
    "edit": true,

    "context7_*": false,
    "exa_*": true,
    "terraform_*": false,
    "kubernetes_*": false,
    "git_*": false,
    "playwright_*": false,
    "memory_*": false
  },
  "mcp": {
    "context7": {
      "type": "remote",
      "url": "https://mcp.context7.com/mcp",
      "enabled": true,
      "headers": {
        "CONTEXT7_API_KEY": "{env:CONTEXT7_API_KEY}"
      }
    },
    "exa": {
      "type": "remote",
      "url": "https://mcp.exa.ai/mcp",
      "enabled": true,
      "oauth": false,
      "headers": {
        "Authorization": "Bearer {env:EXA_API_KEY}"
      }
    },
    "kubernetes": {
      "type": "local",
      "command": ["npx", "-y", "kubernetes-mcp-server@latest"],
      "enabled": true
    },
    "git": {
      "type": "local",
      "command": ["uv", "tool", "run", "mcp-server-git"],
      "enabled": true
    },
    "playwright": {
      "type": "local",
      "command": ["npx", "@playwright/mcp@latest"],
      "enabled": true
    },
    "memory": {
      "type": "local",
      "command": ["npx", "-y", "@modelcontextprotocol/server-memory"],
      "enabled": false
    }
  },
  "lsp": {
    "yamlls": {
      "disabled": true
    }
  },
  "agent": {
    "coder": {
      "mode": "subagent",
      "model": "google/antigravity-claude-sonnet-4-5-thinking",
      "description": "Implementation subagent for writing code and fixes",
      "temperature": 0.3,
      "tools": {
        "context7_*": true
      }
    },
    "build": {
      "mode": "primary",
      "model": "google/antigravity-claude-sonnet-4-5-thinking",
      "description": "Primary build agent (can edit/write by default)",
      "temperature": 0.2,
      "tools": {
        "edit": true,
        "write": true,
        "bash": true,
        "context7_*": true,
        "exa_*": true
      },
      "permission": {
        "edit": "allow",
        "write": "allow",
        "bash": "allow"
      }
    },
    "research": {
      "mode": "primary",
      "model": "google/antigravity-gemini-3-flash",
      "description": "Primary research agent (copy of researcher)",
      "temperature": 0.1,
      "tools": {
        "context7_*": true
      }
    },
    "tutor": {
      "mode": "primary",
      "model": "google/antigravity-gemini-3-pro",
      "description": "Primary tutoring agent for explanations and guidance",
      "temperature": 0.4,
      "system_prompt": "You are a concise tutor. Give brief, clear explanations. Use bullet points. Avoid verbosity. Get to the point quickly.",
      "tools": {
        "context7_*": true
      }
    },
    "auto": {
      "mode": "primary",
      "model": "google/antigravity-claude-sonnet-4-5-thinking",
      "description": "Primary autonomous agent (all permissions enabled)",
      "temperature": 0.3,
      "tools": {
        "task": true,
        "bash": true,
        "webfetch": true,
        "websearch": true,
        "write": true,
        "edit": true,
        "context7_*": true,
        "terraform_*": true,
        "kubernetes_*": true,
        "git_*": true,
        "playwright_*": true,
        "memory_*": true
      },
      "permission": {
        "read": "allow",
        "glob": "allow",
        "grep": "allow",
        "task": "allow",
        "edit": "allow",
        "bash": "allow",
        "webfetch": "allow",
        "websearch": "allow",
        "write": "allow",
        "doom_loop": "allow",
        "external_directory": "allow"
      }
    },
    "researcher": {
      "mode": "subagent",
      "model": "google/antigravity-gemini-3-flash",
      "description": "Research specialist for web/filesystem exploration",
      "temperature": 0.1,
      "system_prompt": "You are a research specialist. Use context7 first, cite sources, and gather information without editing files.",
      "tools": {
        "context7_*": true,
        "exa_*": true,
        "webfetch": true,
        "websearch": true,
        "read": true,
        "glob": true,
        "grep": true,
        "todoread": true,
        "todowrite": true
      },
      "permission": {
        "write": "deny",
        "edit": "deny",
        "bash": "deny"
      }
    },
    "architect": {
      "tools": {}
    },
    "tester": {
      "tools": {
        "playwright_*": true
      }
    },
    "reviewer": {
      "tools": {
        "git_*": true
      }
    },
    "infrastructure": {
      "tools": {
        "context7_*": true,
        "terraform_*": true,
        "kubernetes_*": true
      }
    }
  }
}
